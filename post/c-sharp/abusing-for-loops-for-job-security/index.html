<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Abusing For Loops In C# For Job Security</title>
  
  <meta name="description" content="My blog about my project cars and other contraptions">
  
  <meta name="author" content="Eddie Abbondanzio">
  

  
  
  <link rel="stylesheet" href="https://eddieabbondanz.io/sass/index.min.dc9cd9a7861d2ce9cc663bf4b362fab0efae725a797598924fd9b1d7dbc8f781.css" integrity="sha256-3JzZp4YdLOnMZjv0s2L6sO&#43;uclp5dZiST9mx19vI94E=" media="screen">

  <script data-goatcounter="https://tgpo.eddieabbondanz.io/count" async src="//tgpo.eddieabbondanz.io/count.js"></script>
</head>

<body>
  <nav class="navbar fr jcsb aic mt2-phone">
  <div class="title h100 fr aic">
    <a href="https://eddieabbondanz.io/">
      <img class="avatar mr2" src="https://eddieabbondanz.io/img/avatar.jpg" />
    </a>

    <a class="tdn fwb" href="https://eddieabbondanz.io/">
      <span>Eddie Abbondanzio</span>
    </a>
  </div>  

  <div id="desktop-search" class="pr2 hidden-phone" >
    
  </div>

  <div class="menu h100 aic fr-tablet dn-phone">
    
    
    <div class="item dropdown">
      <a class="trigger">Blog
        <span class="icon"><i class="fas fa-chevron-down"></i></span>
      </a>

      <div class="content">
        <a href="https://eddieabbondanz.io/post/"> All </a>

        
        <a href="https://eddieabbondanz.io/series/development">Development</a>
        
        <a href="https://eddieabbondanz.io/series/xj-build">OG XJ Build</a>
        
        <a href="https://eddieabbondanz.io/series/oem&#43;-xj-build">OEM&#43; XJ Build</a>
        
        <a href="https://eddieabbondanz.io/series/93-eg-hatch-build">93 EG Hatch Build</a>
        
        <a href="https://eddieabbondanz.io/series/88-integra-build">88 Integra Build</a>
        
        <a href="https://eddieabbondanz.io/series/honda-info-and-diys">Honda Info and DIYs</a>
        
        <a href="https://eddieabbondanz.io/series/xj-info-and-diys">XJ Info and DIYs</a>
        
        <a href="https://eddieabbondanz.io/series/shop-and-tools">Shop and Tools</a>
        
      </div>
    </div>
    
    
    
    <a class="item single" href="https://eddieabbondanz.io/app">Apps</a>
    
    
    
    <a class="item single" href="https://eddieabbondanz.io/about">About</a>
    
    
    <div class="item social h100 fr aic px3">
      
      <a href="http://github.com/EddieAbbondanzio" target="_blank" title="GitHub">
        <span class="icon">
          <i class="fab fa-github fa-lg"></i>
        </span>
      </a>
      
      <a href="https://www.linkedin.com/in/ed-abbondanzio-5a7378208/" target="_blank" title="Linkedin">
        <span class="icon">
          <i class="fab fa-linkedin fa-lg"></i>
        </span>
      </a>
      
    </div>
  </div>

  <a id="hamburger" class="hamburger" href="#">
    <span class="icon">
      <i class="fa fa-bars fa-lg"></i>
    </span>
  </a>

</nav>
  
<div id="hamburger-menu" class="hamburger-menu">
   

  <div>
    <div id="phone-search" class="mt2">
      
    </div>
    
    <div class="ml2">
      <a href="https://eddieabbondanz.io/post/"> All </a>

      
      <a href="https://eddieabbondanz.io/series/development"> Development </a>
      
      <a href="https://eddieabbondanz.io/series/xj-build"> OG XJ Build </a>
      
      <a href="https://eddieabbondanz.io/series/oem&#43;-xj-build"> OEM&#43; XJ Build </a>
      
      <a href="https://eddieabbondanz.io/series/93-eg-hatch-build"> 93 EG Hatch Build </a>
      
      <a href="https://eddieabbondanz.io/series/88-integra-build"> 88 Integra Build </a>
      
      <a href="https://eddieabbondanz.io/series/honda-info-and-diys"> Honda Info and DIYs </a>
      
      <a href="https://eddieabbondanz.io/series/xj-info-and-diys"> XJ Info and DIYs </a>
      
      <a href="https://eddieabbondanz.io/series/shop-and-tools"> Shop and Tools </a>
      
    </div>
  </div>
   
  <a href="https://eddieabbondanz.io/app">Apps</a>
   
  <a href="https://eddieabbondanz.io/about">About</a>
  

  <div class="fr jcse">
    
    <a href="http://github.com/EddieAbbondanzio" target="_blank">
      <span class="icon is-medium">
        <i class="fab fa-github fa-lg"></i>
      </span>
    </a>
    
    <a href="https://www.linkedin.com/in/ed-abbondanzio-5a7378208/" target="_blank">
      <span class="icon is-medium">
        <i class="fab fa-linkedin fa-lg"></i>
      </span>
    </a>
    
  </div>
</div>

  <main>
    
<article class="post" data-pagefind-meta="image:/post/c-sharp/abusing-for-loops-for-job-security/images/hero-thumbnail.jpg">
  <h1 class="h1 mb2" data-pagefind-meta="title">Abusing For Loops In C# For Job Security</h1>

  <div class="fr meta pb3">
    
    <a class="mr1ch tdn" href="https://eddieabbondanz.io/series/development" title="More Development posts">
      <i class="fas fa-th-list"></i>
      Development
    </a>
    

    
    <div class="date" title="Posted on Jan 11, 2021">
      <i class="fas fa-calendar-day"></i>
      <time>Jan 11, 2021</time>
    </div>
    
  </div>

  <div class="markdown-body" data-pagefind-body>
    <p>Everyone knows good code is easy to maintain, but that also means anyone can maintain it. That&rsquo;s no bueno for the individual developer who wants a little job security. Writing overly complex code that nobody else can maintain let alone read, will ensure your company holds onto you, and will give you more bargaining power come raise time.</p>
<p>We&rsquo;re going to work with a simplified example for the rest of this article. Imagine your boss has asked you to write a program that will count from 1 to 9 and print out the number, along with if it is even. A valid output would be as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">is</span> even: False
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">is</span> even: True
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span> <span style="color:#66d9ef">is</span> even: False
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">is</span> even: True
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span> <span style="color:#66d9ef">is</span> even: False
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span> <span style="color:#66d9ef">is</span> even: True
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span> <span style="color:#66d9ef">is</span> even: False
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span> <span style="color:#66d9ef">is</span> even: True
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span> <span style="color:#66d9ef">is</span> even: False
</span></span></code></pre></div><p>Your boss might&rsquo;ve said this would be part of the test suite for the NPM package <a href="https://www.npmjs.com/package/is-even" target="_blank" rel="noopener">is-even</a> but you stopped listening about halfway through to figure out how many story points this would be on the next sprint.</p>
<p>Oh well, sounds easy enough right? Any developer worth their salt knows a simple for loop could solve this problem.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">1</span>; i &lt; <span style="color:#ae81ff">10</span>; i++) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {i % 2 == 0}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>But as correct as this solution might be, it doesn&rsquo;t guarantee us job security which is after all the most important principle of good code.</p>
<p>Time to add a little complexity to ensure no one else will dare touch the code, or try to understand it.</p>
<h1>
  Anatomy of a For Loop
  <a href="#anatomy-of-a-for-loop" id="anatomy-of-a-for-loop" class="anchor" aria-hidden="true"><i class="fa fa-link"></i></a>
</h1><p>Just so we&rsquo;re all on the same page, a for loop is comprised of a statement, and a body.</p>
<p>The statement is the portion which sits atop the loop and is within parenthesis. It&rsquo;s divided into three parts. Each of which is separated by a semi-colon.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(initializer; condition; iterator) {}
</span></span></code></pre></div><ol>
<li>initializer: The initializer is the first part, and usually instantiates a variable. Say <code>int i = 0;</code></li>
<li>condition: The condition is the middle portion and is checked each pass of the loop to ensure it&rsquo;s true. When the condition tests false, the loop is exited.</li>
<li>iterator: The last portion is the iterator, this is typically used to increment the loop variable ex: <code>i++</code>.</li>
</ol>
<p>All 3 parts of the statement are optional, and an empty for loop <code>for (; ;) { }</code> will act like an infinite while loop <code>while(1) { }</code>.</p>
<p>The body is the portion of the loop below the statement. Usually surrounded by curly braces, unless it&rsquo;s one line (as they&rsquo;re optional then). I should also mention that the body is optional too.</p>
<p>Let&rsquo;s go ahead and start writing our <em>ahem</em> abomination.</p>
<h1>
  Moving the Domain Logic Into the For Statement
  <a href="#moving-the-domain-logic-into-the-for-statement" id="moving-the-domain-logic-into-the-for-statement" class="anchor" aria-hidden="true"><i class="fa fa-link"></i></a>
</h1><p>First off we&rsquo;ve got some domain logic operating inside the for loop body. The ternary that detects if the number is even: <code>i % 2 == 0</code>. Let&rsquo;s go ahead and squeeze it into the for statement because after all that&rsquo;s where it belongs.</p>
<p>We&rsquo;re going to need an extra variable to hold a <code>isEven</code> flag. But, there&rsquo;s a bit of a problem. C# only allows for defining multiple variables of the same type in one line. So while the following is perfectly valid:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> a = <span style="color:#ae81ff">0</span>, b = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">10</span>; i++) {}
</span></span></code></pre></div><p>This is not:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> a = <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">bool</span> isEven = <span style="color:#66d9ef">false</span>; i &lt; <span style="color:#ae81ff">10</span>; i++) {}
</span></span></code></pre></div><p>But that&rsquo;s okay because we&rsquo;ll slap it in a value tuple and deconstruct it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i &lt; <span style="color:#ae81ff">10</span>; i++) {}
</span></span></code></pre></div><p>Now that&rsquo;s beautiful.</p>
<p>With the bool instantiated we just need to recalculate it each time in the iterator. Thankfully C# is cool with assigning multiple variables of different types on the same line.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i &lt; <span style="color:#ae81ff">10</span>; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) { }
</span></span></code></pre></div><p>And now our for loop body has been devoided of any logic. It&rsquo;s clean and concise.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i &lt; <span style="color:#ae81ff">10</span>; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1>
  Obfuscating The Start And End
  <a href="#obfuscating-the-start-and-end" id="obfuscating-the-start-and-end" class="anchor" aria-hidden="true"><i class="fa fa-link"></i></a>
</h1><p>I&rsquo;d argue <code>i &lt; 10</code> is too readable. Since the condition just needs to be a boolean we can substitute it with anything we please provided it evaluates to <code>true</code> or <code>false</code>. Which basically makes it a no-brainer to swap it out with a switch expression.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The switch expression will still run our loop from 1 to 9 as intended. Each iteration of the loop it&rsquo;ll see which case it matches i against. The underscore (or discard) is equivalent to the default case of a switch statement. Therefore while i is not 10 it&rsquo;ll return true which means keep running the loop, and once it hits 10 the switch will return false saying it&rsquo;s time to stop.</p>
<p>But we can take this a step further and add erroneous cases. As long as the switch never hits said cases it doesn&rsquo;t mess with the logic.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">14</span> =&gt; <span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">69</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#66d9ef">true</span>,_ =&gt; <span style="color:#66d9ef">true</span> }; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>And on top of that they don&rsquo;t even have to be in order. Also note that erroneous cases can return <code>true</code> or <code>false</code>. This is extra important to add another layer of confusion.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">14</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">69</span> =&gt; <span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#66d9ef">true</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>For the finishing touch let&rsquo;s kick it up a notch. A switch case has to be a literal or constant, which removes the usages of methods, and the such but still leaves math on the table.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">14</span> * <span style="color:#ae81ff">4</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">69</span> * <span style="color:#ae81ff">250</span> / <span style="color:#ae81ff">84</span> =&gt; <span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#66d9ef">true</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>I recommend leaving the math a fifth grade level. We want to give the reader a flash back to their day in grade school learning their multiplication tables.</p>
<p>Oh and did I mention we can add some math and more to the return values? After all they just need to be booleans.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">14</span> * <span style="color:#ae81ff">4</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">69</span> * <span style="color:#ae81ff">250</span> / <span style="color:#ae81ff">84</span> =&gt; <span style="color:#ae81ff">8</span> / <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#ae81ff">7</span> * <span style="color:#ae81ff">6</span> == <span style="color:#ae81ff">92</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1>
  Finishing Up In 1 Line
  <a href="#finishing-up-in-1-line" id="finishing-up-in-1-line" class="anchor" aria-hidden="true"><i class="fa fa-link"></i></a>
</h1><p>We&rsquo;re not done yet. Our solution is optimal, but everyone knows that a 1 line solution is <strong>always</strong> better. Right now you&rsquo;re either begging for mercy or thinking there&rsquo;s no way it&rsquo;s possible. Even if we removed the brackets it&rsquo;s still 2 lines.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">14</span> * <span style="color:#ae81ff">4</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">69</span> * <span style="color:#ae81ff">250</span> / <span style="color:#ae81ff">84</span> =&gt; <span style="color:#ae81ff">8</span> / <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#ae81ff">7</span> * <span style="color:#ae81ff">6</span> == <span style="color:#ae81ff">92</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; i++, isEven = i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span></code></pre></div><p>But if there&rsquo;s a will there&rsquo;s a way.</p>
<p>Our next magic trick is going to involve a little inspiration from JavaScript. Have you ever heard of a self invoking function? It&rsquo;s basically a function declaration that immediately executes itself.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span>(function () {
</span></span><span style="display:flex;"><span>  console.log(<span style="color:#e6db74">&#34;foo&#34;</span>);
</span></span><span style="display:flex;"><span>})();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// prints &#34;foo&#34; to the console</span>
</span></span></code></pre></div><p>And while we may be in the .NET world, who&rsquo;s to say we can&rsquo;t borrow a little inspiration?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> Action(() =&gt; Console.WriteLine(<span style="color:#e6db74">&#34;foo&#34;</span>))();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// prints &#34;foo&#34; to the console</span>
</span></span></code></pre></div><p>Let&rsquo;s take our new found knowledge and replace the iterator of our loop. Because after all when all you&rsquo;ve got is a hammer, everything looks like a nail.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">14</span> * <span style="color:#ae81ff">4</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">69</span> * <span style="color:#ae81ff">250</span> / <span style="color:#ae81ff">84</span> =&gt; <span style="color:#ae81ff">8</span> / <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#ae81ff">7</span> * <span style="color:#ae81ff">6</span> == <span style="color:#ae81ff">92</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; (i, isEven) = <span style="color:#66d9ef">new</span> Func&lt;<span style="color:#66d9ef">int</span>, (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">bool</span>)&gt;((i) =&gt; (i + <span style="color:#ae81ff">1</span>, !(i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>)))(i)) {
</span></span><span style="display:flex;"><span>    Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This is the little bit we added.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> Func&lt;<span style="color:#66d9ef">int</span>, (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">bool</span>)&gt;((i) =&gt; (i + <span style="color:#ae81ff">1</span>, !(i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>)))(i)
</span></span></code></pre></div><p>A Func&lt;&gt; is the same thing as an Action except it can have parameters, and a return value. In our instance, the function takes an int parameter, and returns a value tuple containing an int, and bool. Make sure you name your function parameters the same as the variable being passed in.</p>
<p>The real reason why we added in the self invoking function isn&rsquo;t to make it more confusing. No. We just needed a new location to place our <code>Console.WriteLine()</code> call.</p>
<p>That my friends is how we can achieve our glorious one liner solution.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> (i, isEven) = (<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">false</span>); i <span style="color:#66d9ef">switch</span> { <span style="color:#ae81ff">14</span> * <span style="color:#ae81ff">4</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">69</span> * <span style="color:#ae81ff">250</span> / <span style="color:#ae81ff">84</span> =&gt; <span style="color:#ae81ff">8</span> / <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">10</span> =&gt; <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">420</span> =&gt; <span style="color:#ae81ff">7</span> * <span style="color:#ae81ff">6</span> == <span style="color:#ae81ff">92</span>, _ =&gt; <span style="color:#66d9ef">true</span> }; (i, isEven) = <span style="color:#66d9ef">new</span> Func&lt;<span style="color:#66d9ef">int</span>, (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">bool</span>)&gt;((i) =&gt; { Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>); <span style="color:#66d9ef">return</span> (i + <span style="color:#ae81ff">1</span>, !(i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>)); })(i));
</span></span></code></pre></div><p>Here&rsquo;s the self invoking function for those who somehow have trouble reading our work of art.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> Func&lt;<span style="color:#66d9ef">int</span>, (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">bool</span>)&gt;((i) =&gt; { Console.WriteLine(<span style="color:#e6db74">$&#34;{i} is even: {isEven}&#34;</span>); <span style="color:#66d9ef">return</span> (i + <span style="color:#ae81ff">1</span>, !(i % <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span>); }(i)
</span></span></code></pre></div><h1>
  Wrapping Up
  <a href="#wrapping-up" id="wrapping-up" class="anchor" aria-hidden="true"><i class="fa fa-link"></i></a>
</h1><p>We could take things further, but before doing some I&rsquo;d recommend assessing the rankings of your co-workers. If you work alongside a lot of junior devs, it&rsquo;s probably sufficient, but if you work with more senior developers we could always break out a few more tricks. I&rsquo;ll leave this as an exercise for the reader.</p>
<p>With everything coded up, and testing good, it&rsquo;s time to commit your masterpiece and send off some requests for code reviews. Come to think of it it&rsquo;s probably about time to head on home as this likely took most the day. Go home and enjoy some brews. Because tomorrow when your boss calls you into his office it&rsquo;s gonna be for that promotion you&rsquo;ve been wanting.</p>
<h1>
  Acknowledgements
  <a href="#acknowledgements" id="acknowledgements" class="anchor" aria-hidden="true"><i class="fa fa-link"></i></a>
</h1><p>Thank you Chris Cattano for pointing out I had a logic error in the code bits after switching to the self invoking function. The program was incorrectly reporting which numbers were odd. Turns out even I fell prey to the complexity.</p>

  </div>
</article>

  </main>

  <footer>
  <p>&copy; 2013 - 2025 Eddie Abbondanzio</p>
</footer>
  <script src="https://eddieabbondanz.io/js/lol.js"></script>
  <link href="https://eddieabbondanz.io/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="https://eddieabbondanz.io/pagefind/pagefind-ui.js"></script>

<script>
  const DRAWER_QUERY = ".pagefind-ui__drawer"

  
  window.addEventListener('DOMContentLoaded', (event) => {
    initDesktopSearchBar();
    initPhoneSearchBar();
  });

  function initDesktopSearchBar() {
    new PagefindUI({
      element: "#desktop-search", 
      showSubResults: false, 
      pageSize: 10, 
      translations: {
        placeholder: "Search posts"
      } 
    });

    
    const input = document.querySelector("#desktop-search input")
    input.addEventListener("focus", () => {
      const drawer = document.querySelector(DRAWER_QUERY)
      if(drawer) {
        drawer.classList.remove("hidden")
      }
    })

    
    window.addEventListener("click", (ev) => {
      if(!ev.target.closest("#desktop-search")) {
        const drawer = document.querySelector(DRAWER_QUERY)
        drawer.classList.add("hidden")
      }
    })
  }

  function initPhoneSearchBar() {
    new PagefindUI({
      element: "#phone-search", 
      showSubResults: false, 
      pageSize: 10, 
      translations: {
        placeholder: "Search posts"
      } 
    });

        
    const input = document.querySelector("#desktop-search input")
    input.addEventListener("focus", () => {
      const drawer = document.querySelector(DRAWER_QUERY)
      if(drawer) {
        drawer.classList.remove("hidden")
      }
    })

    
    window.addEventListener("click", (ev) => {
      if(!ev.target.closest("#desktop-search")) {
        const drawer = document.querySelector(DRAWER_QUERY)
        drawer.classList.add("hidden")
      }
    })

  }
</script>
</body>

</html>